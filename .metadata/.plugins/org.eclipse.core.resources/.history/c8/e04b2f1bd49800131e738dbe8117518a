#include "UnderGlow.h"


        UnderGlow::UnderGlow(int port1,int port2)
        {

              alliance=new Relay(port1);
              turbo=new Relay(port2);
        }
        UnderGlow::~UnderGlow()
        {
                delete alliance;        
                delete turbo;
        }
        void UnderGlow::MakeWhite()
        {
          turbo->Set(Relay::kForward);
          alliance->Set(Relay::kOff);
          DriverStationLCD::GetInstance()->PrintfLine(DriverStationLCD::kUser_Line6,"WHITE LEDs!");
            DriverStationLCD::GetInstance()->UpdateLCD();
        }
        void UnderGlow::SetUnderGlow(Color color)
        {
          if(color==WHITE){
              turbo->Set(Relay::kForward);
              alliance->Set(Relay::kOff);
              return;
          }
                if((color&RED)==RED)
                {
                    alliance->Set((color&BLUE)==BLUE?Relay::kOff:Relay::kForward);
                }
                else
                  {
                    alliance->Set((color&BLUE)==BLUE?Relay::kReverse:Relay::kOn);

                  }
                turbo->Set(((color&GREEN)==GREEN)?Relay::kForward:Relay::kOn);
        }
     
